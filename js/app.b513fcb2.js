(function(){"use strict";var e={786:function(e,t,n){var a=n(751),o=n(641);const s={class:"main"};function l(e,t,n,a,l,r){const i=(0,o.g2)("Sidebar"),u=(0,o.g2)("RouterView");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("main",s,[(0,o.bF)(u)])],64)}var r=n(33),i=n.p+"img/avatar.4ec89e75.jpg";const u={class:"sidebar"},c=(0,o.Fv)('<div class="sidebar__top" data-v-32ff054e><img class="sidebar__avatar" src="'+i+'" alt="avatar" data-v-32ff054e><div class="sidebar__user-info" data-v-32ff054e><div class="sidebar__user-name" data-v-32ff054e> Савелий </div><div class="sidebar__user-email" data-v-32ff054e> test@mail.com </div></div></div>',1),m={class:"sidebar__menu-items"},d=["src","alt"],p={class:"sidebar__menu-item-name"};function _(e,t,n,a,s,l){const i=(0,o.g2)("RouterLink");return(0,o.uX)(),(0,o.CE)("aside",u,[c,(0,o.Lk)("ul",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.menuItems,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t.name,class:(0,r.C4)(["sidebar__menu-item",{"sidebar__menu-item--selected":e.$route.path===t.link}])},[(0,o.bF)(i,{class:"sidebar__menu-item-link",to:t.link},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{class:"sidebar__menu-item-icon",src:t.icon,alt:t.name},null,8,d),(0,o.Lk)("div",p,(0,r.v_)(t.name),1)])),_:2},1032,["to"])],2)))),128))])])}var f={name:"Sidebar",data(){return{menuItems:[{name:"Все новости",link:"/",icon:n(841)},{name:"Добавить запись",link:"/create",icon:n(172)}]}}},v=n(262);const b=(0,v.A)(f,[["render",_],["__scopeId","data-v-32ff054e"]]);var g=b,h={components:{Sidebar:g}};const k=(0,v.A)(h,[["render",l]]);var w=k,y=n(220);const C=(0,o.Lk)("h1",{class:"main__title"},"Все новости",-1);function V(e,t,n,a,s,l){const r=(0,o.g2)("NewsList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[C,(0,o.bF)(r)],64)}const x={key:0,class:"news-list"},I={class:"news-list__item-content"},L={class:"news-list__item-author"},F={class:"news-list__item-text-wrapper"},N={class:"news-list__item-text"},E={key:1,class:"preloader"};function P(e,t,n,s,l,i){const u=(0,o.g2)("VButton"),c=(0,o.g2)("DeletePopup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[l.news.length>0?((0,o.uX)(),(0,o.CE)("ul",x,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.news,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"news-list__item"},[(0,o.Lk)("div",I,[(0,o.Lk)("h2",{class:"news-list__item-title",onClick:t[0]||(t[0]=(...e)=>i.toggleItemText&&i.toggleItemText(...e))},(0,r.v_)(e.id)+". "+(0,r.v_)(e.title),1),(0,o.Lk)("div",L,"id автора: "+(0,r.v_)(e.userId),1),(0,o.Lk)("div",F,[(0,o.Lk)("div",N,(0,r.v_)(e.body),1)])]),(0,o.bF)(u,{class:"news-list__item-delete-button",theme:"red",onClick:t=>i.openDeletePopup(e)},{default:(0,o.k6)((()=>[(0,o.eW)(" Удалить ")])),_:2},1032,["onClick"])])))),128))])):((0,o.uX)(),(0,o.CE)("div",E)),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[l.showDeletePopup?((0,o.uX)(),(0,o.Wv)(c,{key:0,newsItem:l.currentNewsItem,onCloseDeletePopup:i.closeDeletePopup,onDeleteNewsItem:i.deleteNewsItem},null,8,["newsItem","onCloseDeletePopup","onDeleteNewsItem"])):(0,o.Q3)("",!0)])),_:1})],64)}var X=n(250);const D=["type"];function S(e,t,n,a,s,l){return(0,o.uX)(),(0,o.CE)("button",{class:(0,r.C4)(["button","button--"+n.theme]),type:n.type},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],10,D)}var A={name:"VButton",props:{theme:{type:String,default:"blue"},type:{type:String,default:"button"}}};const O=(0,v.A)(A,[["render",S],["__scopeId","data-v-5d8c08b3"]]);var T=O;const j={class:"delete-popup__content"},$={class:"delete-popup__text"},B={class:"delete-popup__buttons"};function R(e,t,n,s,l,i){const u=(0,o.g2)("VButton");return(0,o.uX)(),(0,o.CE)("div",{class:"delete-popup",onClick:t[1]||(t[1]=(0,a.D$)(((...e)=>i.closePopup&&i.closePopup(...e)),["self"]))},[(0,o.Lk)("div",j,[(0,o.Lk)("div",$,' Вы уверены, что хотите удалить новость "'+(0,r.v_)(n.newsItem.title)+'"? ',1),(0,o.Lk)("div",B,[(0,o.bF)(u,{class:"delete-popup__button",onClick:i.closePopup},{default:(0,o.k6)((()=>[(0,o.eW)(" Нет ")])),_:1},8,["onClick"]),(0,o.bF)(u,{class:"delete-popup__button",theme:"red",onClick:t[0]||(t[0]=t=>e.$emit("deleteNewsItem",n.newsItem.id))},{default:(0,o.k6)((()=>[(0,o.eW)(" Да ")])),_:1})])])])}var K={name:"DeletePopup",components:{VButton:T},props:{newsItem:Object},methods:{closePopup(){this.$emit("closeDeletePopup")}}};const U=(0,v.A)(K,[["render",R],["__scopeId","data-v-50a731e5"]]);var W=U,M={name:"NewsList",components:{DeletePopup:W,VButton:T},data(){return{news:[],showDeletePopup:!1,currentNewsItem:{}}},methods:{async getNews(){try{const{data:e}=await X.A.get("https://jsonplaceholder.typicode.com/posts");this.news=e}catch(e){console.log(e)}},toggleItemText(e){e.currentTarget.closest(".news-list__item-content").querySelector(".news-list__item-text-wrapper").classList.toggle("news-list__item-text-wrapper--visible")},openDeletePopup(e){this.currentNewsItem=e,document.body.style.overflow="hidden",this.showDeletePopup=!0},closeDeletePopup(){this.showDeletePopup=!1,document.body.style.removeProperty("overflow")},async deleteNewsItem(e){this.closeDeletePopup();try{await X.A.delete(`https://jsonplaceholder.typicode.com/posts/${e}`),this.news.splice(this.news.findIndex((t=>t.id===e)),1)}catch(t){console.log(t)}}},mounted(){this.getNews()}};const q=(0,v.A)(M,[["render",P],["__scopeId","data-v-df66a806"]]);var G=q,Q={name:"MainPage",components:{NewsList:G}};const z=(0,v.A)(Q,[["render",V]]);var H=z;const J=(0,o.Lk)("h1",{class:"main__title"},"Добавить запись",-1);function Y(e,t,n,a,s,l){const r=(0,o.g2)("CreateForm");return(0,o.uX)(),(0,o.CE)(o.FK,null,[J,(0,o.bF)(r)],64)}const Z={class:"main__create-form-wrapper"},ee={class:"main__create-form"},te={class:"main__create-form-result"},ne={class:"main__create-form-result-table"},ae={class:"main__create-form-result-row-title"},oe={class:"main__create-form-result-row-text"};function se(e,t,n,s,l,i){const u=(0,o.g2)("VInput"),c=(0,o.g2)("VRadio"),m=(0,o.g2)("VTextarea"),d=(0,o.g2)("VCheckbox"),p=(0,o.g2)("VButton");return(0,o.uX)(),(0,o.CE)("div",Z,[(0,o.Lk)("form",ee,[(0,o.bF)(u,{class:"main__create-form-item",fieldName:"Имя",type:"text",modelValue:l.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.form.name=e)},null,8,["modelValue"]),(0,o.bF)(u,{class:"main__create-form-item",fieldName:"Email",type:"email",modelValue:l.form.email,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.email=e)},null,8,["modelValue"]),(0,o.bF)(c,{class:"main__create-form-item",fieldName:"Пол",options:l.genders,modelValue:l.form.gender,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.gender=e)},null,8,["options","modelValue"]),(0,o.bF)(m,{class:"main__create-form-item",fieldName:"Сообщение",modelValue:l.form.message,"onUpdate:modelValue":t[3]||(t[3]=e=>l.form.message=e)},null,8,["modelValue"]),(0,o.bF)(d,{class:"main__create-form-item",fieldName:"Согласен на обработку персональных данных",modelValue:l.form.agreement,"onUpdate:modelValue":t[4]||(t[4]=e=>l.form.agreement=e)},null,8,["modelValue"]),(0,o.bF)(p,{class:"main__create-form-button",onClick:(0,a.D$)(i.sendForm,["prevent"]),type:"submit"},{default:(0,o.k6)((()=>[(0,o.eW)(" Отправить ")])),_:1},8,["onClick"])]),(0,o.Lk)("div",te,[(0,o.Lk)("table",ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.formResult,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t,class:"main__create-form-result-row"},[(0,o.Lk)("td",ae,(0,r.v_)(t)+":",1),(0,o.Lk)("td",oe,(0,r.v_)(e),1)])))),128))])])])}const le={class:"input-element"},re={class:"input-element__text"},ie=["type","value"];function ue(e,t,n,a,s,l){return(0,o.uX)(),(0,o.CE)("label",le,[(0,o.Lk)("span",re,(0,r.v_)(n.fieldName),1),(0,o.Lk)("input",{class:"input-element__input",type:n.type,value:n.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.currentTarget.value))},null,40,ie)])}var ce={name:"VInput",props:{fieldName:String,type:String,modelValue:String}};const me=(0,v.A)(ce,[["render",ue],["__scopeId","data-v-35c5cecf"]]);var de=me;const pe={class:"checkbox"},_e=["checked"],fe={class:"checkbox__text"};function ve(e,t,n,a,s,l){return(0,o.uX)(),(0,o.CE)("label",pe,[(0,o.Lk)("input",{class:"checkbox__input",type:"checkbox",checked:n.modelValue,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.currentTarget.checked))},null,40,_e),(0,o.Lk)("span",fe,(0,r.v_)(n.fieldName),1)])}var be={name:"VCheckbox",props:{fieldName:String,modelValue:Boolean}};const ge=(0,v.A)(be,[["render",ve],["__scopeId","data-v-762c98ca"]]);var he=ge;const ke={class:"radio"},we={class:"radio__text"},ye=["value","checked","onChange"],Ce={class:"radio__input-text"};function Ve(e,t,n,a,s,l){return(0,o.uX)(),(0,o.CE)("div",ke,[(0,o.Lk)("div",we,(0,r.v_)(n.fieldName),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.options,((e,t)=>((0,o.uX)(),(0,o.CE)("label",{key:t,class:"radio__label"},[(0,o.Lk)("input",{class:"radio__input",type:"radio",value:t,checked:t===n.modelValue,onChange:e=>l.radioChange(t,e)},null,40,ye),(0,o.Lk)("span",Ce,(0,r.v_)(e),1)])))),128))])}var xe={name:"VRadio",props:{fieldName:String,options:Object,modelValue:String},methods:{radioChange(e,t){!0===t.currentTarget.checked&&this.$emit("update:modelValue",e)}}};const Ie=(0,v.A)(xe,[["render",Ve],["__scopeId","data-v-4cd7fdb7"]]);var Le=Ie;const Fe={class:"textarea-element"},Ne={class:"textarea-element__count"},Ee={class:"textarea-element__label"},Pe={class:"textarea-element__text"},Xe=["value"];function De(e,t,n,a,s,l){return(0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.Lk)("div",Ne,"Символов: "+(0,r.v_)(n.modelValue.length),1),(0,o.Lk)("label",Ee,[(0,o.Lk)("span",Pe,(0,r.v_)(n.fieldName),1),(0,o.Lk)("textarea",{class:"textarea-element__textarea",value:n.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.currentTarget.value))},null,40,Xe)])])}var Se={name:"VTextarea",props:{fieldName:String,modelValue:String}};const Ae=(0,v.A)(Se,[["render",De],["__scopeId","data-v-641fb3ea"]]);var Oe=Ae,Te={name:"CreateForm",components:{VButton:T,VTextarea:Oe,VRadio:Le,VCheckbox:he,VInput:de},data(){return{form:{name:"",email:"",gender:"male",message:"",agreement:!1},genders:{male:"Мужской",female:"Женский"},formResult:{}}},methods:{sendForm(){this.formResult={...this.form},this.form.name="",this.form.email="",this.form.gender="male",this.form.message="",this.form.agreement=!1}}};const je=(0,v.A)(Te,[["render",se],["__scopeId","data-v-adf36324"]]);var $e=je,Be={name:"CreatePage",components:{CreateForm:$e}};const Re=(0,v.A)(Be,[["render",Y]]);var Ke=Re;const Ue=[{path:"/",component:H},{path:"/create",component:Ke}],We=(0,y.aE)({history:(0,y.LA)("/NewsList/"),routes:Ue});var Me=We;(0,a.Ef)(w).use(Me).mount("#app")},841:function(e,t,n){e.exports=n.p+"img/house.007ff8b2.svg"},172:function(e,t,n){e.exports=n.p+"img/pencil.d589667d.svg"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],s=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&s||l>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/NewsList/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,l=a[0],r=a[1],i=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var c=i(n)}for(t&&t(a);u<l.length;u++)s=l[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunknews_list"]=self["webpackChunknews_list"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(786)}));a=n.O(a)})();
//# sourceMappingURL=app.b513fcb2.js.map